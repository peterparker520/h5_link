import { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import './BlankPage.css'
import qr_code from '../img/qr_code.png';

const BlankPage = () => {
  const navigate = useNavigate();
  const [showQRModal, setShowQRModal] = useState(false);

  const handleOpenAppClick = () => {
    if (window.innerWidth <= 768) {
      // 移动端 → 跳转下载页
      navigate('/download');
    } else {
      // 桌面端 → 打开二维码模态窗
      setShowQRModal(true);
    }
  };

  // 关闭模态窗
  const handleCloseModal = () => {
    setShowQRModal(false);
  };

  return (
    <div>
      {/* 顶部banner */}
      <div className="header">
        <div className="header-content">
          <div className="brand-info">
            <div className="brand-icon">
              <img src="/logo.png" alt="时光拍" />
            </div>
            <div className="brand-text">
              <span className="brand-name">时光拍</span>
              <span className="brand-slogan">时光拍，拍摄美好时光</span>
            </div>
          </div>
          <button className="open-app-btn" onClick={handleOpenAppClick}>打开APP</button>
        </div>
      </div>
      <div className="blank-page">
        <div className="blank-content">
          <div className="blank-message">
            <svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M60.856 60.373L77.6069 69.7695L78.0137 69.9771L78.4121 70.1348L78.8188 70.251L79.2256 70.334L79.6406 70.3838L80.0474 70.3921L80.4458 70.3672L80.8442 70.3091L81.6079 70.1016L82.3301 69.7695L82.9775 69.3296L83.5503 68.79L83.7993 68.4829L84.0234 68.1592L84.2144 67.8105L84.3804 67.437L84.5132 67.0552L84.6045 66.6567L84.6626 66.2417L84.6875 65.7935V47.0005L84.6626 46.5605L84.6045 46.1372L84.5132 45.7388L84.3804 45.3569L84.2144 44.9917L84.0234 44.6431L83.7993 44.3193L83.5503 44.0122L83.2764 43.73L82.6621 43.2402L82.3301 43.0327L81.6079 42.7007L80.8442 42.4932L80.4458 42.4351L80.0474 42.4102L79.6406 42.4185L79.2256 42.4683L78.8188 42.5513L78.4121 42.6675L78.0137 42.8252L77.6069 43.0327L60.856 52.4292L60.4741 52.6699L60.1338 52.9272L59.8184 53.2095L59.5444 53.5083L59.3037 53.832L59.0879 54.1724L58.9053 54.521L58.7642 54.8779L58.5649 55.6333L58.5151 56.0151V56.7871L58.5649 57.1689L58.7642 57.9243L58.9053 58.2813L59.0879 58.6299L59.3037 58.9702L59.5444 59.2939L59.8184 59.5928L60.1338 59.875L60.4741 60.1323L60.856 60.373Z" fill="url(#paint0_linear_767_5123)" />
              <path d="M64.3838 76.6094H17.0029L16.4468 76.5845L15.9155 76.5181L15.3926 76.4185L14.8862 76.269L14.3965 76.0781L13.9233 75.8623L13.4834 75.605L13.0518 75.3145L12.645 74.9907L12.2715 74.6421L11.9229 74.2686L11.6074 73.8618L11.3169 73.4302L11.0596 72.9819L10.8438 72.5088L10.6528 72.019L10.5034 71.5127L10.4038 70.9897L10.3374 70.4502L10.3125 69.894V41.8706L10.3374 41.3145L10.4038 40.7749L10.5117 40.252L10.6528 39.7456L10.8438 39.2559L11.0596 38.7827L11.3169 38.3345L11.6074 37.9028L11.9229 37.4961L12.2715 37.1226L12.645 36.7739L13.0518 36.4502L13.4834 36.1597L13.9316 35.9023L14.3965 35.6865L14.8862 35.4956L15.3926 35.3462L15.9155 35.2466L16.4468 35.1802L17.0029 35.1553H64.3755L64.9316 35.1802L65.4712 35.2466L65.9858 35.3462L66.4922 35.4956L66.9902 35.6865L67.4551 35.9023L67.9033 36.1597L68.3267 36.4502L68.7334 36.7739L69.1069 37.1226L69.4556 37.4961L69.7793 37.9028L70.0698 38.3345L70.3189 38.7827L70.543 39.2559L70.7256 39.7456L70.875 40.252L70.9829 40.7749L71.0493 41.3145L71.0659 41.8706V69.894L71.0493 70.4502L70.9829 70.9897L70.875 71.5127L70.7256 72.019L70.543 72.5088L70.3189 72.9819L70.0698 73.4302L69.7793 73.8618L69.4556 74.2686L69.1152 74.6421L68.7334 74.9907L68.335 75.3145L67.9033 75.605L67.4551 75.8623L66.9902 76.0781L66.4922 76.269L65.9941 76.4185L65.4712 76.5181L64.9316 76.5845L64.3838 76.6094Z" fill="url(#paint1_linear_767_5123)" />
              <path d="M37.5474 25.3105L37.5225 25.8667L37.4561 26.4062L37.3481 26.9292L37.1987 27.4355L37.0078 27.9336L36.7837 28.4067L36.5264 28.855L36.2358 29.2866L35.9121 29.6934L35.5552 30.0752L35.1733 30.4238L34.7583 30.7476L34.3267 31.0381L33.8701 31.2954L33.397 31.5112L32.8906 31.7021L32.376 31.8516L31.853 31.9595L31.3052 32.0259L30.7407 32.0425L30.1763 32.0259L29.6284 31.9595L29.0972 31.8516L28.5908 31.7021L28.0845 31.5112L27.6113 31.2954L27.1548 31.0381L26.7148 30.7476L26.3081 30.4238L25.9263 30.0752L25.5693 29.6934L25.2456 29.2866L24.9468 28.855L24.6895 28.4067L24.4653 27.9336L24.2744 27.4355L24.125 26.9292L24.0171 26.4062L23.9507 25.8667L23.9341 25.3105L23.9507 24.7461L24.0171 24.2065L24.125 23.6836L24.2744 23.1772L24.4653 22.6875L24.6895 22.2144L24.9468 21.7578L25.2456 21.3345L25.5693 20.9277L25.9263 20.5459L26.3081 20.1973L26.7148 19.8735L27.1548 19.583L27.6113 19.3257L28.0845 19.1016L28.5908 18.9189L29.0972 18.7695L29.6284 18.6616L30.1763 18.5952L30.7407 18.5703L31.3052 18.5952L31.853 18.6616L32.376 18.7695L32.8906 18.9189L33.397 19.1016L33.8701 19.3257L34.3267 19.583L34.7583 19.8735L35.1733 20.1973L35.5552 20.5459L35.9121 20.9277L36.2358 21.3345L36.5264 21.7578L36.7837 22.2144L37.0078 22.6875L37.1987 23.1772L37.3481 23.6836L37.4561 24.2065L37.5225 24.7461L37.5474 25.3105Z" fill="#EEEEEE" />
              <path d="M60.5986 22.7207L60.5737 23.3599L60.499 23.9907L60.3911 24.605L60.2417 25.1943L60.0425 25.7837L59.8101 26.3481L59.5444 26.896L59.2373 27.4272L58.897 27.9336L58.5234 28.415L58.1167 28.8799L57.6768 29.3115L57.2202 29.7183L56.7305 30.1001L56.2075 30.4487L55.668 30.7725L55.1035 31.0547L54.5225 31.312L53.9165 31.5278L53.2856 31.7104L52.6548 31.8599L51.999 31.9595L51.335 32.0259L50.646 32.0425L49.957 32.0259L49.2847 31.9595L48.6289 31.8599L47.998 31.7104L47.3672 31.5278L46.7612 31.312L46.1802 31.0547L45.624 30.7725L45.0762 30.4487L44.5615 30.1001L44.0718 29.7183L43.6069 29.3115L43.167 28.8799L42.7603 28.415L42.395 27.9336L42.0464 27.4272L41.7393 26.896L41.4736 26.3481L41.2412 25.7837L41.0503 25.1943L40.8926 24.605L40.7847 23.9907L40.7183 23.3599L40.6934 22.7207L40.7183 22.0732L40.7847 21.4424L40.8926 20.8364L41.0503 20.2388L41.2412 19.6494L41.4736 19.085L41.7393 18.5371L42.0464 18.0059L42.395 17.4995L42.7603 17.0181L43.167 16.5615L43.6069 16.1216L44.0718 15.7148L44.5615 15.333L45.0762 14.9844L45.624 14.6606L46.1802 14.3784L46.7612 14.1294L47.3672 13.9053L47.998 13.7227L48.6289 13.5815L49.2847 13.4736L49.957 13.4155L50.646 13.3906L51.335 13.4155L51.999 13.4736L52.6548 13.5815L53.2856 13.7227L53.9165 13.9053L54.5225 14.1294L55.1035 14.3784L55.668 14.6606L56.2075 14.9844L56.7305 15.333L57.2202 15.7148L57.6768 16.1216L58.1167 16.5615L58.5234 17.0181L58.897 17.4995L59.2373 18.0059L59.5444 18.5371L59.8101 19.085L60.0425 19.6494L60.2417 20.2388L60.3911 20.8364L60.499 21.4424L60.5737 22.0732L60.5986 22.7207Z" fill="#EEEEEE" />
              <path d="M49.5503 59.5928L38.2197 65.8267L37.8877 65.9844L37.5557 66.1089L37.2236 66.1919L36.8833 66.2334L36.2192 66.2251L35.8955 66.167L35.2646 65.9678L34.7085 65.6606L34.4512 65.4614L34.0029 65.0049L33.8203 64.7393L33.6543 64.457L33.5298 64.1582L33.4385 63.8428L33.3804 63.5107L33.3555 63.1538V50.686L33.3804 50.3291L33.4385 49.9888L33.5298 49.6733L33.6543 49.3828L33.8203 49.0923L34.0029 48.835L34.2104 48.5942L34.7085 48.1792L35.2646 47.8721L35.5801 47.7559L36.2192 47.6147L36.8833 47.6064L37.2236 47.6479L37.5557 47.731L37.8877 47.8472L38.2197 48.0132L49.5503 54.2471L49.8574 54.438L50.1396 54.6538L50.3804 54.8862L50.5796 55.1436L50.7622 55.4175L50.9116 55.6997L51.0195 55.9902L51.1025 56.2974L51.1689 56.9199L51.1523 57.227L51.1025 57.5425L51.0195 57.8413L50.9116 58.1318L50.7622 58.4224L50.5796 58.6963L50.3804 58.9453L50.1396 59.1777L49.8574 59.3936L49.5503 59.5928Z" fill="url(#paint2_linear_767_5123)" />
              <defs>
                <linearGradient id="paint0_linear_767_5123" x1="58.5151" y1="56.4011" x2="84.6875" y2="56.4011" gradientUnits="userSpaceOnUse">
                  <stop stop-color="#D4D4D4" />
                  <stop offset="1" stop-color="#D4D4D4" stop-opacity="0.5" />
                </linearGradient>
                <linearGradient id="paint1_linear_767_5123" x1="40.6892" y1="35.1553" x2="40.6892" y2="76.6094" gradientUnits="userSpaceOnUse">
                  <stop stop-color="#EEEEEE" />
                  <stop offset="1" stop-color="#F8F8F8" />
                </linearGradient>
                <linearGradient id="paint2_linear_767_5123" x1="42.2622" y1="47.6064" x2="42.2622" y2="66.2334" gradientUnits="userSpaceOnUse">
                  <stop stop-color="#D4D4D4" />
                  <stop offset="1" stop-color="#D4D4D4" stop-opacity="0.5" />
                </linearGradient>
              </defs>
            </svg>
            <p>内容不存在或已被删除</p>
          </div>
        </div>
      </div>

      {/* QR Code Modal */}
      {showQRModal && (
        <div className="qr-modal-overlay" onClick={handleCloseModal}>
          <div className="qr-modal-content" onClick={(e) => e.stopPropagation()}>
            <div className="qr-modal-header">
              <h3>扫码下载 时光拍APP</h3>
              <button className="qr-modal-close" onClick={handleCloseModal}>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                </svg>
              </button>
            </div>
            <div className="qr-modal-body">
              <img src={qr_code} alt="Download App QR Code" className="qr-modal-img" />
              <p className="qr-modal-text">使用手机扫描二维码下载APP</p>
              <p className="qr-modal-slogan">记录美好生活，分享动人时刻</p>
            </div>
          </div>
        </div>
      )}
    </div>
  )
}

export default BlankPage
